<!-- <button (click)="onAddSection()">Dodaj nowy panel</button>

<mat-accordion>
  <mat-expansion-panel hideToggle *ngFor="let panel of panels">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ panel.sectionName }}
      </mat-panel-title>
      <mat-panel-description>
        This is a summary of the content
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>This is the primary content of the panel.</p>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header *ngFor="let section of sectionArray; let srNo = index">
      <mat-panel-title>
        <div *ngIf="isAddingNewSection==true && srNo === panels.length - 1">
          <input type="text" [(ngModel)]="newSectionName" placeholder="Nowa nazwa sekcji"> 
        </div>
        <div *ngIf="!newSectionName">
          <input type="text" [(ngModel)]="section.name" placeholder="">        
        </div>
        <button *ngIf="!section.isEdit" (click)="onEdit(section)">Edytuj</button>
        <button *ngIf="section.isEdit" (click)="onSave(section, section.name)">Zapisz</button>
      </mat-panel-title>
    </mat-expansion-panel-header>
  </mat-expansion-panel>
</mat-accordion> -->




   <!-- <button (click)="onAddSection()">Dodaj nowy panel</button>

   <mat-accordion>
     <mat-expansion-panel *ngFor="let section of sectionArray; let srNo = index">
      
       <mat-expansion-panel-header>
         <mat-panel-title>
           <input type="text" [(ngModel)]="isAddingNewSection == false ? section.name : newSectionName" [disabled]="!section.isEdit" placeholder="">
           <button *ngIf="!section.isEdit" (click)="onEdit(section)">Edytuj</button>
           <button *ngIf="section.isEdit" (click)="onSave(section)">Zapisz</button>
         </mat-panel-title>
       </mat-expansion-panel-header>
       <p *ngIf="!section.isEdit"> {{ section.name }}</p>
     </mat-expansion-panel>
   </mat-accordion> -->

   <button  (click)="onAddSection()">Dodaj nowy panel</button><br>
   <input *ngIf="isAddingNewSection" type="text" [(ngModel)]="newSectionName" placeholder="Nowa nazwa sekcji">
   <button *ngIf="isAddingNewSection" (click)="onSaveNew()">Zapisz</button>
   <mat-accordion>
    <mat-expansion-panel *ngFor="let section of sectionsByCourse; let srNo = index" (click)="loadEduMaterialsBySectionId(section.id)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <input
            *ngIf="section.isEdit || section.isNewSection" 
            type="text"
            [(ngModel)]="section.name"
            [disabled]="!section.isEdit"
            placeholder=""
          >
          <span *ngIf="!section.isEdit && !section.isNewSection">{{ section.name }}</span>
          <button *ngIf="!section.isEdit" (click)="onEdit(section)">Edytuj</button>
          <button *ngIf="section.isEdit" (click)="onSave(section)">Zapisz zmiany</button>
          <button *ngIf="section.isEdit" (click)="onBackButton(section)">Wyjdź z edycji</button>
          <i class="fa fa-trash-o" aria-hidden="true" (click)="onDelete(section)"></i>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p *ngIf="!section.isEdit">This is the content of section {{ srNo + 1 }}</p>
      <!-- <button *ngIf="section.isEdit" (click)="onAddMaterial(section)">Dodaj materiał</button> -->

      
      <ng-container>
        <div *ngFor="let eduMaterial  of eduMaterialsBySection">
        <a routerLink="/main-page">{{ eduMaterial.name }}</a>
        <i class="fa fa-trash-o" aria-hidden="true" (click)="onDeleteEduMaterial(eduMaterial)"></i>
      </div>
        <input *ngIf="section.isEdit" type="text" [(ngModel)]="newMaterialName" placeholder="Nowy materiał">
        <button  *ngIf="section.isEdit" (click)="onAddMaterial(section)">Nazwij materiał</button>
      </ng-container>
      
      
        
    </mat-expansion-panel>
  </mat-accordion>
  
  <!-- Dodaj pole input tylko wtedy, gdy isAddingNewSection jest true -->
  
 
  



   