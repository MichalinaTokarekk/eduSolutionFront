<!-- <div *ngIf="classGroups">
    <h3>Klasy przypisane do kursu:</h3>
    <ul class="class-list">
      <li *ngFor="let cg of classGroups" class="class-item">
        {{ cg.name }}
      </li>
    </ul>
  </div>
  
  <div *ngIf="!classGroup && !classGroups">
    <p class="no-data-message">Brak dostępnych danych.</p>
  </div>
   -->

   <div class="course-name">{{ course.name }}</div>
   <div class="expansion-panel-container">
    <mat-accordion>
      <mat-expansion-panel *ngFor="let cg of classGroups" (click)="loadEduMaterialsBySectionId(cg.id)">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <ul class="class-list">
                <li class="class-item">
                  {{ cg.name }}
                </li>
            </ul>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="users">
            <h3>Użytkownicy przypisani do grupy:</h3>
            <ul class="user-list">
              <li *ngFor="let user of users" class="user-item">
                {{ user.firstName }} {{ user.lastName }}
                <button (click)="loadGradesByStudentId(user.id, course.id)">Pokaż oceny</button>
                    <div *ngIf="gradesByUser[user.id]" class="grade-section">
                        <!-- <h4>Oceny:</h4> -->
                        <button (click)="openAddGradeDetailDialog(user.id, course.id, user.firstName, user.lastName)" class="add-grade-button">Dodaj ocenę</button>
                        <button *ngIf="isFinalGradeAvailable(user) == false" (click)="openAddFinalGradeDetailDialog(user.id, course.id, user.firstName, user.lastName)" class="add-grade-button">Dodaj ocenę końcową</button>
                        <button (click)="openDetailEditGradeDialog(user.id, course.id, user.firstName, user.lastName, gradesByUser[user.id][0].teacher.firstName, gradesByUser[user.id][0].teacher.lastName)" class="add-grade-button">Pokaż szczegóły</button>
                            <div class="grade-list">
                                <span *ngFor="let grade of gradesByUser[user.id]; let last = last" class="grade-value">
                                    <ng-container *ngIf="grade && !(grade.isFinalValue)">
                                        {{ grade.value }}
                                    </ng-container>
                                <span *ngIf="!last">, </span>
                                
                                
    
                                </span>

                            <div *ngFor="let grade of gradesByUser[user.id]; let last = last" >
                                <ng-container *ngIf="grade && grade.isFinalValue">
                                    <div class="grade-final-value">{{ grade.value }}</div>
                                  </ng-container>
                            </div>

                            </div>
                    </div>
              </li>
            </ul>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  
  